
/*
 *  Devin Simpson
 *  
 *	CSC 370
 *
 *	11/1/2013
 *  
 *	windows_sound.c
 */
#include <windows.h>
#include <stdlib.h>
#include <GL/glut.h>
#include <string.h>


GLubyte space[] = 
{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};

GLubyte letters[][13] = {
{0x00, 0x00, 0xc3, 0xc3, 0xc3, 0xc3, 0xff, 0xc3, 0xc3, 0xc3, 0x66, 0x3c, 0x18}, 
{0x00, 0x00, 0xfe, 0xc7, 0xc3, 0xc3, 0xc7, 0xfe, 0xc7, 0xc3, 0xc3, 0xc7, 0xfe}, 
{0x00, 0x00, 0x7e, 0xe7, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xe7, 0x7e}, 
{0x00, 0x00, 0xfc, 0xce, 0xc7, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc7, 0xce, 0xfc}, 
{0x00, 0x00, 0xff, 0xc0, 0xc0, 0xc0, 0xc0, 0xfc, 0xc0, 0xc0, 0xc0, 0xc0, 0xff}, 
{0x00, 0x00, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xfc, 0xc0, 0xc0, 0xc0, 0xff}, 
{0x00, 0x00, 0x7e, 0xe7, 0xc3, 0xc3, 0xcf, 0xc0, 0xc0, 0xc0, 0xc0, 0xe7, 0x7e}, 
{0x00, 0x00, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xff, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3}, 
{0x00, 0x00, 0x7e, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7e}, 
{0x00, 0x00, 0x7c, 0xee, 0xc6, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06, 0x06}, 
{0x00, 0x00, 0xc3, 0xc6, 0xcc, 0xd8, 0xf0, 0xe0, 0xf0, 0xd8, 0xcc, 0xc6, 0xc3}, 
{0x00, 0x00, 0xff, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0}, 
{0x00, 0x00, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xdb, 0xff, 0xff, 0xe7, 0xc3}, 
{0x00, 0x00, 0xc7, 0xc7, 0xcf, 0xcf, 0xdf, 0xdb, 0xfb, 0xf3, 0xf3, 0xe3, 0xe3}, 
{0x00, 0x00, 0x7e, 0xe7, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xe7, 0x7e}, 
{0x00, 0x00, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xfe, 0xc7, 0xc3, 0xc3, 0xc7, 0xfe}, 
{0x00, 0x00, 0x3f, 0x6e, 0xdf, 0xdb, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x66, 0x3c}, 
{0x00, 0x00, 0xc3, 0xc6, 0xcc, 0xd8, 0xf0, 0xfe, 0xc7, 0xc3, 0xc3, 0xc7, 0xfe}, 
{0x00, 0x00, 0x7e, 0xe7, 0x03, 0x03, 0x07, 0x7e, 0xe0, 0xc0, 0xc0, 0xe7, 0x7e}, 
{0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0xff}, 
{0x00, 0x00, 0x7e, 0xe7, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3}, 
{0x00, 0x00, 0x18, 0x3c, 0x3c, 0x66, 0x66, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3}, 
{0x00, 0x00, 0xc3, 0xe7, 0xff, 0xff, 0xdb, 0xdb, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3}, 
{0x00, 0x00, 0xc3, 0x66, 0x66, 0x3c, 0x3c, 0x18, 0x3c, 0x3c, 0x66, 0x66, 0xc3}, 
{0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3c, 0x3c, 0x66, 0x66, 0xc3}, 
{0x00, 0x00, 0xff, 0xc0, 0xc0, 0x60, 0x30, 0x7e, 0x0c, 0x06, 0x03, 0x03, 0xff},
};

GLubyte lowletters[][13] = {
{0x00, 0x00, 0x7d, 0xc3, 0xc3, 0xc3, 0x7f, 0x03, 0x7e, 0x00, 0x00, 0x00, 0x00}, // a
{0x00, 0x00, 0xfe, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xfe, 0xc0, 0xc0, 0xc0, 0xc0}, // b
{0x00, 0x00, 0x7f, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0x7f, 0x00, 0x00, 0x00, 0x00}, // c
{0x00, 0x00, 0x7f, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x7f, 0x03, 0x03, 0x03, 0x03}, // d
{0x00, 0x00, 0x7e, 0xc0, 0xc0, 0xfe, 0xc3, 0xc3, 0x7e, 0x00, 0x00, 0x00, 0x00}, // e
{0x00, 0x00, 0x3c, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7e, 0x18, 0x18, 0x18, 0x0e}, // f
{0x7f, 0x03, 0x7f, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x7e, 0x00, 0x00, 0x00, 0x00}, // g
{0x00, 0x00, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xfe, 0xc0, 0xc0, 0xc0, 0xc0}, // h
{0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x18, 0x18, 0x00}, // i
{0x70, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x18, 0x18, 0x00}, // j
{0x00, 0x00, 0xc3, 0xc7, 0xce, 0xfc, 0xfe, 0xc7, 0xc3, 0xc0, 0xc0, 0xc0, 0xc0}, // k
{0x00, 0x00, 0x0c, 0x1c, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18}, // l
{0x00, 0x00, 0xdb, 0xdb, 0xdb, 0xdb, 0xdb, 0xdb, 0xfe, 0x00, 0x00, 0x00, 0x00}, // m
{0x00, 0x00, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xfe, 0x00, 0x00, 0x00, 0x00}, // n
{0x00, 0x00, 0x7e, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x7e, 0x00, 0x00, 0x00, 0x00}, // o
{0xc0, 0xc0, 0xfe, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xfe, 0x00, 0x00, 0x00, 0x00}, // p
{0x03, 0x03, 0x7f, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x7f, 0x00, 0x00, 0x00, 0x00}, // q
{0x00, 0x00, 0xc0, 0xc0, 0xc0, 0xc0, 0xe0, 0xf0, 0xdf, 0x00, 0x00, 0x00, 0x00}, // r
{0x00, 0x00, 0xfe, 0x03, 0x03, 0x7e, 0xc0, 0xc0, 0x7f, 0x00, 0x00, 0x00, 0x00}, // s
{0x00, 0x00, 0x0e, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7e, 0x18, 0x18, 0x18, 0x18}, // t
{0x00, 0x00, 0x7f, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x00, 0x00, 0x00, 0x00}, // u
{0x00, 0x00, 0x18, 0x3c, 0x66, 0x66, 0xc3, 0xc3, 0xc3, 0x00, 0x00, 0x00, 0x00}, // v
{0x00, 0x00, 0x66, 0x7e, 0xdb, 0xdb, 0xdb, 0xdb, 0xdb, 0x00, 0x00, 0x00, 0x00}, // w
{0x00, 0x00, 0xc3, 0xe7, 0x3c, 0x18, 0x3c, 0xe7, 0xc3, 0x00, 0x00, 0x00, 0x00}, // x
{0x7f, 0x03, 0x7f, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x00, 0x00, 0x00, 0x00}, // y
{0x00, 0x00, 0xff, 0xc0, 0x70, 0x1c, 0x06, 0x03, 0xff, 0x00, 0x00, 0x00, 0x00}, // z
};

//create musical note bitmap
GLubyte musicalcharacters[][24] = {
{0x00, 0x00, 0x3c, 0x7e, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7e, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,0x00, 0x00, 0x00, 0x00},
{0x00, 0x00,  0x3c, 0x7e, 0xff, 0xff, 0xff, 0xff, 0xff, 0x7f, 0x3f, 0x03, 0x03, 0x03, 0x03,0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03}, 
};

GLuint fontOffset;

int CurrStringX = 30;

int stringY = 40;

int xOffset = 20;

void makeRasterFont(void)
{
   GLuint i, j;
   glPixelStorei(GL_UNPACK_ALIGNMENT, 1);

   fontOffset = glGenLists (128);
   for (i = 0,j = 'A'; i < 26; i++,j++) {
      glNewList(fontOffset + j, GL_COMPILE);
      glBitmap(8, 13, 0.0, 2.0, 10.0, 0.0, letters[i]);
      glEndList();
   }

   // Lower case
	for (i = 0,j = 'a'; i < 26; i++,j++)
	{
		glNewList(fontOffset + j, GL_COMPILE);
		glBitmap(8, 13, 0.0, 2.0, 10.0, 0.0, lowletters[i]);
		glEndList();
	}

	//musical notes
		for (i = 0,j = '1'; i < 2; i++,j++)
		{
		glNewList(fontOffset + j, GL_COMPILE);
		glBitmap(8, 24, 0.0, 2.0, 10.0, 0.0, musicalcharacters[i]);
		glEndList();
	}
   glNewList(fontOffset + ' ', GL_COMPILE);
   glBitmap(8, 20, 0.0, 2.0, 10.0, 0.0, space);
   glEndList();
}

void init(void)
{
   glShadeModel (GL_FLAT);
   makeRasterFont();
}

void printString(char *s)
{
   glPushAttrib (GL_LIST_BIT);
   glListBase(fontOffset);
   glCallLists(strlen(s), GL_UNSIGNED_BYTE, (GLubyte *) s);
   glPopAttrib ();
}

/* Everything above this line could be in a library 
 * that defines a font.  To make it work, you've got 
 * to call makeRasterFont() before you start making 
 * calls to printString().
 */
void display(void)
{
   GLfloat white[3] = { 1.0, 1.0, 1.0 };

   glClear(GL_COLOR_BUFFER_BIT);

    glLineWidth(1.5); 
	glColor3f(0.6, 0.6, 0.6);
	glBegin(GL_LINES);
	glVertex3f(20, 70, 0);
	glVertex3f(560, 70, 0);
	glEnd();

	//create the gray lines
	glBegin(GL_LINES);
	glVertex3f(20, 90, 0);
	glVertex3f(560, 90, 0);
	glEnd();

	glBegin(GL_LINES);
	glVertex3f(20, 110, 0);
	glVertex3f(560, 110, 0);
	glEnd();

	glBegin(GL_LINES);
	glVertex3f(20, 130, 0);
	glVertex3f(560, 130, 0);
	glEnd();

	glBegin(GL_LINES);
	glVertex3f(20, 150, 0);
	glVertex3f(560, 150, 0);
	glEnd();

   glColor3fv(white);
   glFlush ();
}

void reshape(int w, int h)
{
   glViewport(0, 0, (GLsizei) w, (GLsizei) h);
   glMatrixMode(GL_PROJECTION);
   glLoadIdentity();
   glOrtho (0.0, w, 0.0, h, -1.0, 1.0);
   glMatrixMode(GL_MODELVIEW);
}

void keyboard(unsigned char key, int x, int y)
{
    //due to the beep function being unable to play these notes at their proper frequencies 
	//an offset is applied to each note to put it in a range that the beep function can play

	int offset = 5;

   switch (key) {
	   case 'f':
		    //sound
			Beep(43.65 * offset, 500);//F1 1/2 second
			glRasterPos2i(CurrStringX, stringY);
			printString("f");
			glRasterPos2i(CurrStringX, stringY+36);
			printString("1");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'F':
			//sound
			Beep(46.25 * offset, 1000);//F#1 full second
			glRasterPos2i(CurrStringX, stringY);
			printString("F");
			glRasterPos2i(CurrStringX, stringY+36);
			printString("2");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'g':
			//sound
			Beep(98 * offset, 500);//G2 1/2 second
			glRasterPos2i(CurrStringX, stringY);
			printString("g");
			glRasterPos2i(CurrStringX, stringY+46);
			printString("1");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'G':
			//sound
			Beep(103.83 * offset, 1000);//G#2 full second
			glRasterPos2i(CurrStringX, stringY);
			printString("G");
			glRasterPos2i(CurrStringX, stringY+46);
			printString("2");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'a':
			//sound
			Beep(220 * offset, 500);//A3 1/2 second
			glRasterPos2i(CurrStringX, stringY);
			printString("a");
			glRasterPos2i(CurrStringX, stringY+56);
			printString("1");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'A':
			//sound
			Beep(233.08 * offset, 1000);//A#3 full second
			glRasterPos2i(CurrStringX, stringY);
			printString("A");
			glRasterPos2i(CurrStringX, stringY+56);
			printString("2");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			 break;
		case 'b':
			//sound
			Beep(466.16 * offset, 500);//Bb4 1/2 second
			glRasterPos2i(CurrStringX, stringY);
			printString("b");
			glRasterPos2i(CurrStringX, stringY+66);
			printString("1");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'B':
			//sound
			Beep(493.88 * offset, 1000);//B4 full second
			glRasterPos2i(CurrStringX, stringY);
			printString("B");
			glRasterPos2i(CurrStringX, stringY+66);
			printString("2");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'c':
			//sound
			Beep(523.25 * offset ,500);//C5 1/2 second
			glRasterPos2i(CurrStringX, stringY);
			printString("c");
			glRasterPos2i(CurrStringX, stringY+76);
			printString("1");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'C':
			//sound
			Beep(554.37 * offset , 1000);//C#5 full second
			glRasterPos2i(CurrStringX, stringY);
			printString("C");
			glRasterPos2i(CurrStringX, stringY+76);
			printString("2");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'd':
			//sound
			Beep(1174.66 * offset , 500);//D6 1/2 second
			glRasterPos2i(CurrStringX, stringY);
			printString("d");
			glRasterPos2i(CurrStringX, stringY+86);
			printString("1");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'D':
			//sound
			Beep(1244.51 * offset , 1000);//D#6 full second
			glRasterPos2i(CurrStringX, stringY);
			printString("D");
			glRasterPos2i(CurrStringX, stringY+86);
			printString("2");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
		case 'e':
			//sound
			Beep(2489.46 * offset , 500);//E7b 1/2 second
			glRasterPos2i(CurrStringX, stringY);
			printString("e");
			glRasterPos2i(CurrStringX, stringY+96);
			printString("1");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			 break;
		case 'E':
			//sound
			Beep(2637.02 * offset  , 1000);//E7 full second
			glRasterPos2i(CurrStringX, stringY);
			printString("E");
			glRasterPos2i(CurrStringX, stringY+96);
			printString("2");
			CurrStringX = CurrStringX + xOffset;
			glFlush ();
			break;
        case 27:
			exit(0);
			break;
	   default:
			break;
   }
}

/*  Main Loop
 *  Open window with initial window size, title bar, 
 *  RGBA display mode, and handle input events.
 */
int main(int argc, char** argv)
{
   glutInit(&argc, argv);
   glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);
   glutInitWindowSize(600, 200);
   glutInitWindowPosition (100, 100);
   glutCreateWindow("windows_sound");
   init();
   glutReshapeFunc(reshape);
   glutKeyboardFunc(keyboard);
   glutDisplayFunc(display);
   glutMainLoop();
   return 0;
}
